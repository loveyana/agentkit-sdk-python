# 快速开始

使用AgentKit CLI 构建您的第一个智能体，并在云上部署运行。

## 前置准备
首先请参考 [安装指南](/content/1.introduction/2.installation.md)，完成SDK安装。

### 1. 火山引擎账号AK/SK（必选）

登录[火山引擎官网](https://www.volcengine.com/)，注册账号并开通 AgentKit 服务。

在「访问控制」页面获取 AK/SK

设置环境变量：

```bash
export VOLCENGINE_ACCESS_KEY=<your_access_key>
export VOLCENGINE_SECRET_KEY=<your_secret_key>
```

### 2. 方舟模型 API Key（可选）
首先确保已经开通方舟模型服务，并获取了 API Key。如果您还没有开通方舟模型服务，请申请开通[火山方舟平台](https://console.volcengine.com/ark/region:ark+cn-beijing/overview)。

**获取推理接入点**：

点击「在线推理」→ 用户可以从「预置推理接入点」选择已有模型接入点，也可以点击「自定义推理接入点」创建新的模型接入点：

![推理接入点](../../public/images/select_or_create_model_endpoint.jpg)

**获取API Key**：

点击「API Key 管理」→ 用户可以从「API Key管理」列表选择已有 API Key，也可以点击「创建 API Key」创建新的 API Key：

![API Key管理](../../public/images/model_apikey.jpg)

记录好接入点ID 如`ep-20250520174054-xxxxx`（也可以是模型ID如 `deepseek-v3-1-terminus`）和 API Key，稍后配置Agent应用内部Runtime的环境变量   `MODEL_AGENT_NAME`和`MODEL_AGENT_API_KEY`时使用（如果不指定，AgentKit Platform 会自动为您获取一个凭证，VeADK会默认内置`doubao-seed-1-6`模型）。

## 开始使用
### 步骤 1: 安装 AgentKit SDK
参考[安装指南](./2.installation.md)

### 步骤 2：创建项目

创建项目目录并初始化 Agent 应用：

```bash
mkdir simple-agent && cd simple-agent
agentkit init
```

执行后会显示可用模板列表，选择模板 `1` (Basic Agent App)：

```
(agentkit) test@localhost:~/workspace$ agentkit init

    ___                    __  __ __ _ __ 
   /   | ____ ____  ____  / /_/ //_/(_) /_
  / /| |/ __ `/ _ \/ __ \/ __/ ,<  / / __/
 / ___ / /_/ /  __/ / / / /_/ /| |/ / /_  
/_/  |_\__, /\___/_/ /_/\__/_/ |_/_/\__/  
      /____/                              
     ✨ Build AI Agents with Ease ✨

                                          Available Templates                                           
┏━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ ID     ┃ Name                      ┃ Type            ┃ Language        ┃ Description                 ┃
┡━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ 1      │ Basic Agent App           │ Basic App       │ Python          │ 最简单的Agent应用，快速上手 │
│ 2      │ Basic Stream Agent App    │ Stream App      │ Python          │ 支持流式输出的Agent应用     │
└────────┴───────────────────────────┴─────────────────┴─────────────────┴─────────────────────────────┘

Please select a template by entering the ID (1-2):
Template ID: 1
Selected: Basic Agent App
Creating project: simple_agent
Using template: Basic Agent App

✨ Project initialized successfully!
Template: Basic Agent App
Entry point: simple_agent.py
Language: Python 3.12

Created files:
  ✓ simple_agent.py
  ✓ requirements.txt
  ✓ agentkit.yaml
  ✓ .dockerignore

Next steps:
  1. Review and modify the generated files
  2. Use agentkit config to configure your agent
  3. Use agentkit launch to build and deploy
```

会生成以下文件：
- `simple_agent.py` - Agent 应用入口文件
- `requirements.txt` - Python 依赖
- `agentkit.yaml` - 配置文件

### 步骤 3：配置项目（可选）

使用交互式配置向导设置部署参数，配置文件会保存到 `agentkit.yaml` 中（也可以直接使用默认生成的配置文件）：

```bash
agentkit config
```

配置向导会引导您完成以下设置：

**通用配置**（按 回车 使用默认值）：
- **1.应用名称**：Agent 应用名称（模板1，默认值为 `simple_agent`，如接纳直接回车即可（下同））
- **2.入口文件**：应用入口文件（模板1，默认值为 `simple_agent.py`）
- **3.应用描述**：应用描述信息（可选）
- **4.Python 版本**：默认 3.12
- **5.依赖文件**：默认 `requirements.txt`
- **6.Agent应用内部Runtime常用环境变量**：
  - `MODEL_AGENT_NAME`：方舟模型接入点 ID（可选）
  - `MODEL_AGENT_API_KEY`：方舟模型 API Key（可选）
- **7.部署模式**：选择 `cloud`（云端构建和部署）

**云端部署配置**：
- **1.服务区域**：默认 `cn-beijing`
- **2.镜像标签**：默认 `latest`
- **3.CR 镜像仓库**：CLI 会自动生成CR实例名称、CR命名空间和CR仓库名，用户也可手动指定（建议自动即可）

```
(agentkit) test@localhost:~/workspace$ agentkit config
╔══════════════════════════════════════ ⚙️ 基础配置 ══════════════════════════════════════╗
║                                                                                        ║
║  ℹ️ 欢迎使用 AgentKit 配置向导                                                          ║
║  本向导将帮助您完成Agent应用配置，请根据提示输入相关信息，或直接按Enter键使用默认值。  ║
║                                                                                        ║
║  您可以随时按 Ctrl+C 退出配置。                                                        ║
║                                                                                        ║
║                                                                                        ║
╚════════════════════════════════════════════════════════════════════════════════════════╝


[1/8] 🤖 Agent application name(当前值：simple_agent): 
✅ 已输入: simple_agent


[2/8] 📝 Agent application entry file (path allowed), e.g. simple_agent.py(当前值：simple_agent.py): 
✅ 已输入: simple_agent.py


[3/8] 📄 Application description(当前值：AgentKit project simple_agent - Basic Agent App): 
✅ 已输入: AgentKit project simple_agent - Basic Agent App


[4/8] ✏️ Agent application Language, defaults to Python
╭───────────────────────────╮
│ 1. Python - Python (当前) │
╰───────────────────────────╯

请选择 (输入编号或名称): 

✅ 使用当前默认值: Python


[5/8] 🐍 Agent application Language version [可选: 3.10, 3.11, 3.12, 3.13](当前值：3.12): 
✅ 已输入: 3.12


[6/8] 📦 Agent application Dependencies file(当前值：requirements.txt): 
✅ 已输入: requirements.txt


[7/8] 🔐 Application-level runtime environment variables (shared across all deployment modes)
常用环境变量:
  - MODEL_AGENT_API_KEY=your_api_key
  - DEBUG=true
  - LOG_LEVEL=info
输入格式: KEY=VALUE
命令: 'del KEY' 删除, 'list' 查看, 'clear' 清空所有, 空行结束


[7/8] 🔐 变量: MODEL_AGENT_API_KEY=3848xxxx-xxx-xxxx-xxxx-xxxxxaeb5c
已添加: MODEL_AGENT_API_KEY=3848xxxx-xxx-xxxx-xxxx-xxxxxaeb5c

[7/8] 🔐 变量: 

📋 共配置 1 个变量


[8/8] 🚀 Deployment and runtime mode, defaults to local (local build and deploy), optional hybrid (local build, cloud deploy)
╭───────────────────────────────────────────────────────────────────────────────────╮
│ 1. local - Local build and deploy                                                 │
│ 2. hybrid - Local build, cloud deploy                                             │
│ 3. cloud - Cloud build and deploy base on Volcano Engine Agentkit Platform (当前) │
╰───────────────────────────────────────────────────────────────────────────────────╯

请选择 (输入编号或名称): cloud

✅ 已选择: cloud



╭────────────────────────────────────────────────────────────────────────────────── ✅ 配置完成 ──────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                                                 │
│                                            ╭────────────────────────────────┬──────────────────────────────────────────────────────╮                                            │
│                                            │  配置项                        │  值                                                  │                                            │
│                                            ├────────────────────────────────┼──────────────────────────────────────────────────────┤                                            │
│                                            │  应用名称                      │  simple_agent                                        │                                            │
│                                            │  入口文件                      │  simple_agent.py                                     │                                            │
│                                            │  应用描述                      │  AgentKit project simple_agent - Basic Agent App     │                                            │
│                                            │  语言                          │  Python                                              │                                            │
│                                            │  语言版本                      │  3.12                                                │                                            │
│                                            │  依赖文件                      │  requirements.txt                                    │                                            │
│                                            │  Runtime Envs                  │  {'MODEL_AGENT_API_KEY':                             │                                            │
│                                            │                                │  '3848xxxx-xxx-xxxx-xxxx-xxxxxaeb5c'}             │                                            │
│                                            │  部署模式                      │  cloud                                               │                                            │
│                                            ╰────────────────────────────────┴──────────────────────────────────────────────────────╯                                            │
│                                                                                                                                                                                 │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

✅ 太棒了！通用配置已完成！

ℹ️ 下面将开始针对您选择的部署模式进行配置。

╔══════════════════════════════════════════════ ⚙️ 云构建与部署配置 ═══════════════════════════════════════════════╗
║                                                                                                                 ║
║  ℹ️  欢迎使用 AgentKit 云构建与部署模式 配置向导                                                                 ║
║  本向导将帮助您完成云构建与部署模式下应用部署运行相关配置，请根据提示输入相关信息，或直接按Enter键使用默认值。  ║
║                                                                                                                 ║
║  您可以随时按 Ctrl+C 退出配置。                                                                                 ║
║                                                                                                                 ║
║                                                                                                                 ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝


[1/4] 🌏 服务使用的区域
╭───────────────────────────────────╮
│ 1. cn-beijing - 华北2-北京 (当前) │
╰───────────────────────────────────╯

请选择 (输入编号或名称): 

✅ 使用当前默认值: cn-beijing


[2/4] 📦 CR实例名称(当前值：agentkit-cli-{{account_id}}, 花括号内容为动态渲染的占位符，无需手动填写): 
✅ 已输入: agentkit-cli-{{account_id}}


[3/4] 📁 CR命名空间(当前值：agentkit): 
✅ 已输入: agentkit


[4/4] 📋 CR仓库名称，默认使用AgentKit项目名(当前值：simple_agent): myapp
✅ 已输入: myapp



╭────────────────────────────────────────────────────────────────────────────────── ✅ 配置完成 ──────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                                                 │
│                                            ╭────────────────────────────────┬──────────────────────────────────────────────────────╮                                            │
│                                            │  配置项                        │  值                                                  │                                            │
│                                            ├────────────────────────────────┼──────────────────────────────────────────────────────┤                                            │
│                                            │  Region                        │  cn-beijing                                          │                                            │
│                                            │  Cr Instance Name              │  agentkit-cli-{{account_id}}                         │                                            │
│                                            │  Cr Namespace Name             │  agentkit                                            │                                            │
│                                            │  Cr Repo Name                  │  myapp                                               │                                            │
│                                            ╰────────────────────────────────┴──────────────────────────────────────────────────────╯                                            │
│                                                                                                                                                                                 │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

✅ 太棒了！部署运行配置已完成！

ℹ️ 可以使用agentkit launch命令一键启动应用了！

✅ 配置完成!
```

配置完成后会生成 `agentkit.yaml` 配置文件：

```yaml
common:
  agent_name: simple_agent
  entry_point: simple_agent.py
  description: AgentKit project simple_agent - Basic Agent App
  language: Python
  language_version: '3.12'
  agent_type: Basic App
  dependencies_file: requirements.txt
  runtime_envs:
    MODEL_AGENT_API_KEY: 3848xxxx-xxxx-xxxx-xxxx-xxxxx3aeb5c
  launch_type: cloud
launch_types:
  cloud:
    region: cn-beijing
    tos_bucket: agentkit-cli-{{account_id}}
    tos_prefix: agentkit-builds
    tos_region: cn-beijing
    tos_object_key: ''
    tos_object_url: ''
    image_tag: '{{timestamp}}'
    cr_instance_name: agentkit-cli-{{account_id}}
    cr_namespace_name: agentkit
    cr_repo_name: myapp
    cr_region: cn-beijing
    cr_image_full_url: ''
    build_timeout: 3600
    cp_workspace_name: agentkit-cli-workspace
    cp_pipeline_name: Auto
    cp_pipeline_id: ''
    runtime_id: Auto
    runtime_name: Auto
    runtime_role_name: Auto
    runtime_apikey: Auto
    runtime_apikey_name: Auto
    runtime_endpoint: ''
    runtime_envs: {}
    build_timestamp: ''
    deploy_timestamp: ''
docker_build: {}
```

### 步骤 4：构建和部署

执行一键部署命令，将应用构建并部署到 AgentKit Platform：

```bash
agentkit launch
```

该命令会自动完成以下步骤：
1. 渲染 Dockerfile
2. 创建项目压缩包并上传到 TOS
3. 准备 CR（容器镜像仓库）资源
4. 创建 Pipeline 并执行构建
5. 部署到 Runtime 环境

部署过程会显示：
```bash
(agentkit) test@localhost:~/workspace$ agentkit launch
Launching agent...
▶ 开始构建Agent镜像
开始云构建流程...
1/6 渲染Dockerfile...
✓ Using existing Dockerfile
Current file is up-to-date
2/6 创建项目压缩包...
✅ 项目压缩包已创建: /tmp/tmp257pmig8/simple_agent_20251120_17xxxx_4cxxxxxx.tar.gz
3/6 上传到TOS...
检查TOS存储桶是否存在: agentkit-cli-21076xxxxx
✅ TOS存储桶存在: agentkit-cli-21076xxxxx
已上传到TOS: https://agentkit-cli-21076xxxxx.tos-cn-beijing.volces.com/agentkit-builds/simple_agent_20251120_17xxxx_4cxxxxxx.tar.gz, bucket: agentkit-cli-21076xxxxx
4/6 准备CR资源...
正在确保CR资源存在...
✅ CR实例已存在且运行中: agentkit-cli-21076xxxxx
✅ CR命名空间已存在: agentkit
✅ CR仓库已存在或创建成功: myapp
正在确保CR公网访问...
✅ CR资源准备完成
   实例: agentkit-cli-21076xxxxx
   命名空间: agentkit
   仓库: myapp
5/6 准备Pipeline资源...
✅ 使用工作区: agentkit-cli-workspace
⚠️ 配置的Pipeline名称不存在，将创建新的Pipeline
创建新的Pipeline: simple_agent-ml7d1s5e
✅ 创建Pipeline成功: simple_agent-ml7d1s5e (ID: 06de7a5abxxxxxab1a8xxxxxa1788ff)
6/6 执行构建...
✅ Pipeline触发成功，运行ID: a147d38cxxxx0cba4xxxxa4cxxxx4a0
等待构建完成...
✅ Pipeline运行完成!
  构建状态: Succeeded ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:59
✅ 构建完成: agentkit-cli-21076xxxxx-cn-beijing.cr.volces.com/agentkit/myapp:2025112017xxxx
100% ▶ 构建完成
▶ 开始部署Agent
✅ 生成角色名称: AgentKit-Runtime-Default-ServiceRole-n6dqrji
✅ 生成API密钥名称: API-KEY-m1azdr4m
正在创建Runtime: simple_agent-ml7d1s5e
✅ 创建Runtime成功: r-ye9j62wydcntl8dnhsoa, request_id: 20251120xxxxxxxxxxxxxxx5344
等待Runtime状态为Ready...
💡 提示：Runtime初始化中，请耐心等待，不要中断进程
✅ Runtime状态为Ready
  Runtime状态: Releasing ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:01:23
Endpoint: https://sd4fe31poh486npgcaqq0.apigateway-cn-beijing.volceapi.com
100% ▶ 部署完成
✅ Successfully launched agent: https://sd4fe31poh486npgcaqq0.apigateway-cn-beijing.volceapi.com
Built image: agentkit-cli-21076xxxxx-cn-beijing.cr.volces.com/agentkit/myapp:2025112017xxxx
Endpoint: https://sd4fe31poh486npgcaqq0.apigateway-cn-beijing.volceapi.com
```

> **提示**：首次部署大约需要 2-3 分钟，请耐心等待。

## 使用 Agent

### 调用 Agent

使用 `invoke` 命令测试 Agent：

```bash
agentkit invoke "推荐五个杭州必去景点和小吃？"
```

输出示例：
```bash
Invoking agent...
Using default headers: {'user_id': 'agentkit_user', 'session_id': 'agentkit_sample_session'}
✅ Invocation successful
📝 Response:
杭州作为“人间天堂”，既有山水之胜，又有文化之韵，还有地道的杭帮美食。以下是**5个必去景点**和**5种必尝小吃**推荐，涵盖自然、人文与风味，带你深度感受杭州魅力：


### **一、5个必去景点**  
#### 1. **西湖（核心景区）**  
**推荐理由**：杭州的灵魂所在，世界文化遗产，“三面云山一面城”的格局藏着无数诗意。  
- **必逛亮点**：乘船游湖看“三潭印月”（人民币1元纸币背景），漫步断桥残雪（冬雪时尤美）、苏堤春晓（春季桃花盛开），登雷峰塔俯瞰全景，傍晚在湖滨步行街赏音乐喷泉。  
- **Tips**：西湖免费开放，部分景点（如雷峰塔、三潭印月需乘船）收费，建议安排半天至一天，骑行环湖更惬意。  

#### 2. **灵隐寺（飞来峰景区）**  
**推荐理由**：中国佛教禅宗十大古刹之一，千年香火与石窟艺术的结合。  
- **必逛亮点**：寺内“云林禅寺”匾额为康熙御笔，大雄宝殿庄严恢弘；山门外的**飞来峰**有五代至宋代的摩崖石刻（布袋和尚、观音像等），石窟艺术价值极高。  
- **Tips**：需先买飞来峰门票（45元），再购灵隐寺香火券（30元），建议清晨前往，避开人流，感受古刹宁静。  

#### 3. **西溪国家湿地公园**  
**推荐理由**：城市中的天然氧吧，《非诚勿扰》取景地，“一曲溪流一曲烟”的江南湿地典范。  
- **必逛亮点**：乘摇橹船穿行芦苇荡，看“河渚街”的水乡市集，秋天赏柿子林，冬日观芦花飞雪。核心景区“烟水渔庄”“深潭口”生态极佳，适合慢游。  
- **Tips**：建议选“电瓶船+步行”组合游览，节省体力，门票80元（含电瓶船），四季皆宜。  

#### 4. **宋城（含《宋城千古情》演出）**  
**推荐理由**：沉浸式宋代文化主题公园，一秒穿越回“清明上河图”的繁华。  
- 
**必逛亮点**：园区复原宋代市井街景，可体验古装换装、皮影戏、活字印刷；**《宋城千古情》**（300元起）是“一生必看的演出”，用灯光、舞美重现良渚文化、岳飞抗金、梁祝等杭州历史，震撼力极
强。  
- **Tips**：演出分场次，建议提前订票，选下午或晚上场次，搭配夜游更有氛围。  

#### 5. **千岛湖（淳安县）**  
**推荐理由**：“天下第一秀水”，1078个岛屿星罗棋布，湖光山色堪比仙境。  
- **必逛亮点**：登**梅峰岛**俯瞰“千岛聚珠”全景，游**月光岛**（爱情主题岛屿），乘游船穿行于岛屿间，尝现捕的千岛湖鱼头（鲜美无比）。  
- **Tips**：距杭州市区约2小时车程，建议报一日游或自驾，选中心湖区（开发成熟，岛屿集中）。  

### **二、5种必尝小吃/美食**  
杭州小吃融合江南的细腻与本味，以“鲜、甜、嫩”为特色，以下5种不可错过：  

#### 1. **西湖醋鱼**  
**特色**：杭帮菜“头牌”，选用西湖草鱼，鱼肉嫩白，糖醋汁酸甜平衡，带微蟹味（传统用草鱼，现多改良为鲈鱼更鲜嫩）。  
**推荐店铺**：楼外楼（西湖边老字号，贵但正宗）、知味观·味庄（性价比高，环境雅致）。  

#### 2. **东坡肉**  
**特色**：北宋苏东坡发明的“网红菜”，选用五花肉切方块，加黄酒慢炖，肉皮Q弹，肥肉入口即化，瘦肉香而不柴，配米饭绝了！  
**推荐店铺**：外婆家（连锁，性价比之王，“外婆红烧肉”是改良版东坡肉）、知味观。  

#### 3. **龙井虾仁**  
**特色**：“茶与鲜”的完美融合，用明前龙井茶叶的清香，搭配鲜活河虾仁，虾仁洁白，茶叶翠绿，清淡鲜甜，不腻口。  
**推荐店铺**：楼外楼、杭州酒家（百年老店，杭帮菜经典）。  

#### 4. **叫花鸡**  
**特色**：传统古法菜，用荷叶包裹嫩鸡，外裹黄泥烤制，敲开泥壳后荷叶清香扑鼻，鸡肉嫩而多汁，带着草木香。  
**推荐店铺**：知味观（真空包装可带走）、河坊街“状元馆”（现做现卖，热乎吃更香）。  

#### 5. **片儿川**  
**特色**：杭州人最爱的“国民早餐面”，面汤用猪骨熬制，配料是“雪菜+笋片+瘦肉片”，雪菜鲜、笋片脆、肉片嫩，一碗下肚暖胃又满足。  
**推荐店铺**：奎元馆（百年面馆，“片儿川”鼻祖）、菊英面店（市井老店，本地人常去）。  

### **小贴士**  
- 景点可按“市区+周边”规划：西湖、灵隐寺、西溪湿地、宋城安排在市区2-3天，千岛湖单独1天。  
- 小吃可集中在**河坊街**（仿古商业街，聚集葱包桧、定胜糕等小吃）、**湖滨步行街**（老字号与新派餐厅都有）一站式打卡。  

杭州的美，藏在山水、古刹、市井与烟火里，慢下来才能真正感受“江南忆，最忆是杭州”的韵味～
```

### 查看状态

查看 Runtime 运行状态：

```bash
agentkit status
```

输出示例：
```bash
✅ Runtime状态为Ready
{
    'runtime_id': 'r-xxxxxxxxxxxxxxxxxx',
    'status': 'Ready',
    'endpoint': 'http://xxxxx.apigateway-cn-beijing.volceapi.com'
}
```

### 清理资源

销毁 Runtime 实例（谨慎操作）：

```bash
agentkit destroy
```

确认后会删除 Runtime 及相关资源。

## 下一步

恭喜！您已成功完成 Agent 应用的完整开发和部署流程。

接下来可以：
- 查看[SDK 文档](../3.agentkit-sdk/1.overview.md)了解更多功能
- 探索其他应用模板（MCP、A2A 等）
- 集成 Memory、Knowledge 等 Platform 服务
